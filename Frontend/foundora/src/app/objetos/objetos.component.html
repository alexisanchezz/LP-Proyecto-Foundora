<!-- Diálogo para crear o editar objetos -->
 <h2>Objetos Perdidos</h2>
<p-dialog 
  header="{{ tituloDialogo }}" 
  [(visible)]="visible" 
  [modal]="true" 
  [closable]="false" 
  [style]="{width: '30vw'}">

  <div class="p-fluid">
    <div class="p-field">
      <label for="nombre">Nombre</label>
      <input id="nombre" pInputText [(ngModel)]="objetoDialogo.nombre" name="nombre" />
    </div>

    <div class="p-field">
      <label for="descripcion">Descripción</label>
      <textarea id="descripcion" pInputTextarea [(ngModel)]="objetoDialogo.descripcion" name="descripcion"></textarea>
    </div>

    <div class="p-field">
      <label for="categoria">Categoría</label>
      <input id="categoria" pInputText [(ngModel)]="objetoDialogo.categoria" name="categoria" />
    </div>

    <div class="p-field">
      <label for="lugar">Lugar</label>
      <input id="lugar" pInputText [(ngModel)]="objetoDialogo.lugar" name="lugar" />
    </div>

    <div class="p-field">
      <label for="fecha">Fecha</label>
      <input id="fecha" type="date" pInputText [(ngModel)]="objetoDialogo.fecha" name="fecha" />
    </div>

    <div class="p-field">
      <label for="imagen">Imagen</label>
      <input type="file" (change)="onImagenSeleccionada($event)" />
    </div>
  </div>

  <ng-template pTemplate="footer">
    <button pButton type="button" label="Cancelar" class="p-button-secondary" (click)="visible = false"></button>
    <button pButton type="button" label="Guardar" class="p-button-primary" (click)="guardarObjeto()"></button>
  </ng-template>
</p-dialog>

<!-- SplitButton para acciones principales -->
<p-splitButton label="Nuevo objeto" icon="pi pi-plus" [model]="splitItems" (onClick)="abrirDialogo()" styleClass="mb-3"></p-splitButton>

<!-- Carousel de objetos -->
<p-carousel [value]="objetos" [numVisible]="3" [numScroll]="1" styleClass="mb-5">
  <ng-template pTemplate="item" let-obj>
    <div class="p-4 bg-white rounded-xl shadow-md border border-slate-200 flex flex-col items-center justify-between h-full">
      <img *ngIf="obj.imagen" [src]="obj.imagen" alt="Imagen" class="mb-3 rounded-lg" style="width:120px; height:120px; object-fit:cover;" />
      <div class="w-full">
        <h3 class="text-lg font-bold text-slate-900 mb-1">{{ obj.nombre }}</h3>
        <p class="text-sm text-slate-700 mb-1">{{ obj.descripcion }}</p>
        <p class="text-xs text-slate-500 mb-1">Categoría: {{ obj.categoria }}</p>
        <p class="text-xs text-slate-500 mb-1">Lugar: {{ obj.lugar }}</p>
        <p class="text-xs text-slate-500 mb-2">Fecha: {{ obj.fecha | date }}</p>
      </div>
      <div class="flex gap-2 mt-2">
        <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-text" (click)="editarObjeto(obj)"></button>
        <button pButton icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text" (click)="eliminarObjeto(obj.id)"></button>
      </div>
    </div>
  </ng-template>
</p-carousel>
